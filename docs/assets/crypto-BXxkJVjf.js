import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css             */let a=!0;const i=document.getElementById("amount"),e=document.getElementById("result"),u=document.getElementById("cryptoSelect"),r=document.getElementById("currencySelect"),h=document.getElementById("swapBtn"),x=document.getElementById("cryptoForm"),p=[{value:"bitcoin",text:"BTC"},{value:"ethereum",text:"ETH"},{value:"tether",text:"USDT"},{value:"solana",text:"SOL"},{value:"dogecoin",text:"DOGE"},{value:"the-open-network",text:"TON"}],d=[{value:"usd",text:"USD"},{value:"eur",text:"EUR"},{value:"rub",text:"RUB"}];function E(){c(u,p),c(r,d),e.value="",e.placeholder="Результат"}E();function c(t,l){t.innerHTML="",l.forEach(n=>{const o=document.createElement("option");o.value=n.value,o.text=n.text,t.appendChild(o)})}async function y(){const t=parseFloat(i.value);if(!t||t<=0){e.value="",e.placeholder="Сумма некорректна";return}let l,n;a?(l=u.value,n=r.value):(l=r.value,n=u.value),e.value="",e.placeholder="Загрузка...";try{const o=`https://api.coingecko.com/api/v3/simple/price?ids=${encodeURIComponent(l)}&vs_currencies=${encodeURIComponent(n)}`,v=await fetch(o);if(!v.ok){e.value="",e.placeholder="Ошибка сети";return}const f=await v.json(),m=Number(f[l][n]);let s;a?s=(t*m).toFixed(1):s=(t/m).toFixed(6),e.value=s,e.placeholder="Результат"}catch(o){console.error(o),e.value="",e.placeholder="Попробуйте позже"}}x.addEventListener("submit",t=>{t.preventDefault(),y()});h.addEventListener("click",()=>{a=!a,a?(c(u,p),c(r,d)):(c(u,d),c(r,p));const t=i.value;i.value=e.value,e.value=t,i.value?y():(e.value="",e.placeholder="Результат")});
