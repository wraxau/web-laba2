import"./main-8MjXA5MH.js";let a=!0;const s=document.getElementById("amount"),e=document.getElementById("result"),u=document.getElementById("cryptoSelect"),r=document.getElementById("currencySelect"),h=document.getElementById("swapBtn"),x=document.getElementById("cryptoForm"),d=[{value:"bitcoin",text:"BTC"},{value:"ethereum",text:"ETH"},{value:"tether",text:"USDT"},{value:"solana",text:"SOL"},{value:"dogecoin",text:"DOGE"},{value:"the-open-network",text:"TON"}],p=[{value:"usd",text:"USD"},{value:"eur",text:"EUR"},{value:"rub",text:"RUB"}];function E(){c(u,d),c(r,p),e.value="",e.placeholder="Результат"}E();function c(t,l){t.innerHTML="",l.forEach(n=>{const o=document.createElement("option");o.value=n.value,o.text=n.text,t.appendChild(o)})}async function y(){const t=parseFloat(s.value);if(!t||t<=0){e.value="",e.placeholder="Сумма некорректна";return}let l,n;a?(l=u.value,n=r.value):(l=r.value,n=u.value),e.value="",e.placeholder="Загрузка...";try{const o=`https://api.coingecko.com/api/v3/simple/price?ids=${encodeURIComponent(l)}&vs_currencies=${encodeURIComponent(n)}`,v=await fetch(o);if(!v.ok){e.value="",e.placeholder="Ошибка сети";return}const f=await v.json(),m=Number(f[l][n]);let i;a?i=(t*m).toFixed(1):i=(t/m).toFixed(6),e.value=i,e.placeholder="Результат"}catch(o){console.error(o),e.value="",e.placeholder="Попробуйте позже"}}x.addEventListener("submit",t=>{t.preventDefault(),y()});h.addEventListener("click",()=>{a=!a,a?(c(u,d),c(r,p)):(c(u,p),c(r,d));const t=s.value;s.value=e.value,e.value=t,s.value?y():(e.value="",e.placeholder="Результат")});
